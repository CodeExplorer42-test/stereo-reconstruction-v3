# Project Context

## Project Goal
- We are converting stereo X-ray pairs in `data/left_view.png` and `data/right_view.png` to 3D volumetric output. These two stereo pairs are generated by `diffdrr_brute/drr_generator.py` using the `DiffDRR` python package.

## Current Process
- `drr_generator.py` generates stereo X-ray pairs at 1536×1536 resolution with camera parameters stored in `data/camera_params.md`
- `rectify_images.py` performs epipolar alignment on the stereo pair using OpenCV's stereoRectify
- `segment.py` loads rectified images (`data/left_rectified.png`, `data/right_rectified.png`), preprocesses and thresholds both X-ray images, smooths them, detects valleys and intensity gradients with Sobel, extracts strong boundary pixels, and performs intensity-constrained region growing

## Completed
- Re-exported DRRs at full 1536×1536 resolution without matplotlib cropping
- Implemented epipolar rectification with corrected principal point (768, 768) for OpenCV compatibility
- Updated segment.py to use rectified images for row-aligned correspondence

## TODO

- Implement stereo correspondence matching between rectified left and right segmented regions
- Convert matched 2D regions to 3D volumetric representation